---
title: How to evaluate on a split / filtered view of a dataset
sidebarTitle: Evaluate on a split / filtered view of a dataset
---

<Check>
  Before diving into this content, it might be helpful to read:

  * [guide on fetching examples](/langsmith/manage-datasets-programmatically#fetch-examples).
  * [guide on creating/managing dataset splits](/langsmith/manage-datasets-in-application#create-and-manage-dataset-splits)
</Check>

## Evaluate on a filtered view of a dataset

You can use the `list_examples` / `listExamples` method to fetch a subset of examples from a dataset to evaluate on. You can refer to guide above to learn more about the different ways to fetch examples.

One common workflow is to fetch examples that have a certain metadata key-value pair.

<Tabs>
  <Tab title="Python">

```python
from langsmith import evaluate

results = evaluate(
    lambda inputs: label_text(inputs["text"]),
    data=client.list_examples(dataset_name=dataset_name, metadata={"desired_key": "desired_value"}),
    evaluators=[correct_label],
    experiment_prefix="Toxic Queries",
)
```

  </Tab>
  <Tab title="TypeScript">

```typescript
import { evaluate } from "langsmith/evaluation";

await evaluate((inputs) => labelText(inputs["input"]), {
  data: langsmith.listExamples({
    datasetName: datasetName,
    metadata: {"desired_key": "desired_value"},
  }),
  evaluators: [correctLabel],
  experimentPrefix: "Toxic Queries",
});
```

  </Tab>
</Tabs>

For more advanced filtering capabilities see this [how-to guide](/langsmith/manage-datasets-programmatically#list-examples-by-structured-filter).

## Evaluate on a dataset split

You can use the `list_examples` / `listExamples` method to evaluate on one or multiple splits of your dataset. The `splits` param takes a list of the splits you would like to evaluate.

<Tabs>
  <Tab title="Python">

```python
from langsmith import evaluate

results = evaluate(
    lambda inputs: label_text(inputs["text"]),
    data=client.list_examples(dataset_name=dataset_name, splits=["test", "training"]),
    evaluators=[correct_label],
    experiment_prefix="Toxic Queries",
)
```

  </Tab>
  <Tab title="TypeScript">

```typescript
import { evaluate } from "langsmith/evaluation";

await evaluate((inputs) => labelText(inputs["input"]), {
  data: langsmith.listExamples({
    datasetName: datasetName,
    splits: ["test", "training"],
  }),
  evaluators: [correctLabel],
  experimentPrefix: "Toxic Queries",
});
```

  </Tab>
</Tabs>

## Related

* Learn more about how to fetch views of a dataset [here](/langsmith/manage-datasets-programmatically#fetch-datasets)
