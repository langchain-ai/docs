---
title: "Google Drive"
---

This notebook walks through connecting a LangChain to the `Google Drive API`.

## Prerequisites

1. Create a Google Cloud project or use an existing project
2. Enable the [Google Drive API](https://console.cloud.google.com/flows/enableapi?apiid=drive.googleapis.com)
3. [Authorize credentials for desktop app](https://developers.google.com/drive/api/quickstart/python#authorize_credentials_for_a_desktop_application)
4. `pip install --upgrade google-api-python-client google-auth-httplib2 google-auth-oauthlib`

## Instructions for retrieving your Google Docs data

By default, the `GoogleDriveTools` and `GoogleDriveWrapper` expects the `credentials.json` file to be `~/.credentials/credentials.json`, but this is configurable by setting the `GOOGLE_ACCOUNT_FILE` environment variable to your `custom/path/to/credentials.json`. The location of `token.json` use the same directory (or use the parameter `token_path`). Note that `token.json` will be created automatically the first time you use the tool.

`GoogleDriveSearchTool` can retrieve a selection of files with some requests.

By default, If you use a `folder_id`, all the files inside this folder can be retrieved to `Document`, if the name match the query.

```
%pip install --upgrade --quiet  google-api-python-client google-auth-httplib2 google-auth-oauthlib langchain-community
```

You can obtain your folder and document id from the URL:

* Folder: [https://drive.google.com/drive/u/0/folders/1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5](https://drive.google.com/drive/u/0/folders/1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5) -> folder id is `"1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5"`
* Document: [https://docs.google.com/document/d/1bfaMQ18\_i56204VaQDVeAFpqEijJTgvurupdEDiaUQw/edit](https://docs.google.com/document/d/1bfaMQ18_i56204VaQDVeAFpqEijJTgvurupdEDiaUQw/edit) -> document id is `"1bfaMQ18_i56204VaQDVeAFpqEijJTgvurupdEDiaUQw"`

The special value `root` is for your personal home.

```
folder_id = "root"# folder_id='1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5'
```

By default, all files with these mime-type can be converted to `Document`.

* text/text
* text/plain
* text/html
* text/csv
* text/markdown
* image/png
* image/jpeg
* application/epub+zip
* application/pdf
* application/rtf
* application/vnd.google-apps.document (GDoc)
* application/vnd.google-apps.presentation (GSlide)
* application/vnd.google-apps.spreadsheet (GSheet)
* application/vnd.google.colaboratory (Notebook colab)
* application/vnd.openxmlformats-officedocument.presentationml.presentation (PPTX)
* application/vnd.openxmlformats-officedocument.wordprocessingml.document (DOCX)

It's possible to update or customize this. See the documentation of `GoogleDriveAPIWrapper`.

But, the corresponding packages must installed.

```
%pip install --upgrade --quiet  unstructured langchain-googledrive
```

```
import osfrom langchain_googledrive.tools.google_drive.tool import GoogleDriveSearchToolfrom langchain_googledrive.utilities.google_drive import GoogleDriveAPIWrapperos.environ["GOOGLE_ACCOUNT_FILE"] = "custom/path/to/credentials.json"# By default, search only in the filename.tool = GoogleDriveSearchTool(    api_wrapper=GoogleDriveAPIWrapper(        folder_id=folder_id,        num_results=2,        template="gdrive-query-in-folder",  # Search in the body of documents    ))
```

```
import logginglogging.basicConfig(level=logging.INFO)
```

```
tool.run("machine learning")
```

```
tool.description
```

```
"A wrapper around Google Drive Search. Useful for when you need to find a document in google drive. The input should be formatted as a list of entities separated with a space. As an example, a list of keywords is 'hello word'."
```

## Use the tool within a ReAct agent

In order to create an agent that uses the Google Jobs tool install Langgraph

```
%pip install --upgrade --quiet langgraph langchain-openai
```

and use the `create_react_agent` functionality to initialize a ReAct agent. You will also need to set up your OPEN\_API\_KEY (visit [https://platform.openai.com](https://platform.openai.com)) in order to access OpenAI's chat models.

```
import osfrom langchain.chat_models import init_chat_modelfrom langgraph.prebuilt import create_react_agentos.environ["OPENAI_API_KEY"] = "your-openai-api-key"llm = init_chat_model("gpt-4o-mini", model_provider="openai", temperature=0)agent = create_react_agent(llm, tools=[tool])events = agent.stream(    {"messages": [("user", "Search in google drive, who is 'Yann LeCun' ?")]},    stream_mode="values",)for event in events:    event["messages"][-1].pretty_print()
```

**API Reference:**[init\_chat\_model](https://python.langchain.com/api_reference/langchain/chat_models/langchain.chat_models.base.init_chat_model.html) | [create\_react\_agent](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent)

## Related

* Tool [conceptual guide](/src/oss/concepts/tools)
* Tool [how-to guides](/src/oss/how_to/#tools)
