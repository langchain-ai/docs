---
title: "OpenWeatherMap"
---

This notebook goes over how to use the `OpenWeatherMap` component to fetch weather information.

First, you need to sign up for an `OpenWeatherMap API` key:

1. Go to OpenWeatherMap and sign up for an API key [here](https://openweathermap.org/api/)
2. pip install pyowm

Then we will need to set some environment variables:

1. Save your API KEY into OPENWEATHERMAP\_API\_KEY env variable

## Use the wrapper

```
%pip install --upgrade --quiet pyowm
```

```
Note: you may need to restart the kernel to use updated packages.
```

```
import osfrom langchain_community.utilities import OpenWeatherMapAPIWrapperos.environ["OPENWEATHERMAP_API_KEY"] = ""weather = OpenWeatherMapAPIWrapper()
```

**API Reference:**[OpenWeatherMapAPIWrapper](https://python.langchain.com/api_reference/community/utilities/langchain_community.utilities.openweathermap.OpenWeatherMapAPIWrapper.html)

```
weather_data = weather.run("London,GB")print(weather_data)
```

```
In London,GB, the current weather is as follows:Detailed status: overcast cloudsWind speed: 4.12 m/s, direction: 10Â°Humidity: 51%Temperature:   - Current: 12.82Â°C  - High: 13.98Â°C  - Low: 12.01Â°C  - Feels like: 11.49Â°CRain: {}Heat index: NoneCloud cover: 100%
```

## Use the tool

```
import osfrom langgraph.prebuilt import create_react_agentos.environ["OPENAI_API_KEY"] = ""os.environ["OPENWEATHERMAP_API_KEY"] = ""tools = [weather.run]agent = create_react_agent("openai:gpt-4.1-mini", tools)
```

**API Reference:**[create\_react\_agent](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent)

```
input_message = {    "role": "user",    "content": "What's the weather like in London?",}for step in agent.stream(    {"messages": [input_message]},    stream_mode="values",):    step["messages"][-1].pretty_print()
```

```
================================[1m Human Message [0m=================================What's the weather like in London?==================================[1m Ai Message [0m==================================Tool Calls:  run (call_6vPq9neyy7oOnht29ExidE2g) Call ID: call_6vPq9neyy7oOnht29ExidE2g  Args:    location: London=================================[1m Tool Message [0m=================================Name: runIn London, the current weather is as follows:Detailed status: overcast cloudsWind speed: 4.12 m/s, direction: 10Â°Humidity: 51%Temperature:   - Current: 12.82Â°C  - High: 13.98Â°C  - Low: 12.01Â°C  - Feels like: 11.49Â°CRain: {}Heat index: NoneCloud cover: 100%==================================[1m Ai Message [0m==================================The weather in London is currently overcast with 100% cloud cover. The temperature is around 12.82Â°C, feeling like 11.49Â°C. The wind is blowing at 4.12 m/s from the direction of 10Â°. Humidity is at 51%. The high for the day is 13.98Â°C, and the low is 12.01Â°C.
```

## Related

* Tool [conceptual guide](/oss/concepts/tools)
* Tool [how-to guides](/oss/how_to/#tools)
