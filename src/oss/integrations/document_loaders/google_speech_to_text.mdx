---
title: "Google Speech-to-Text Audio Transcripts"
---

The `SpeechToTextLoader` allows to transcribe audio files with the [Google Cloud Speech-to-Text API](https://cloud.google.com/speech-to-text) and loads the transcribed text into documents.

To use it, you should have the `google-cloud-speech` python package installed, and a Google Cloud project with the [Speech-to-Text API enabled](https://cloud.google.com/speech-to-text/v2/oss/transcribe-client-libraries#before_you_begin).

* [Bringing the power of large models to Google Cloudâ€™s Speech API](https://cloud.google.com/blog/products/ai-machine-learning/bringing-power-large-models-google-clouds-speech-api)

## Installation & setup

First, you need to install the `google-cloud-speech` python package.

You can find more info about it on the [Speech-to-Text client libraries](https://cloud.google.com/speech-to-text/v2/oss/libraries) page.

Follow the [quickstart guide](https://cloud.google.com/speech-to-text/v2/oss/sync-recognize) in the Google Cloud documentation to create a project and enable the API.

```
%pip install --upgrade --quiet langchain-google-community[speech]
```

## Example

The `SpeechToTextLoader` must include the `project_id` and `file_path` arguments. Audio files can be specified as a Google Cloud Storage URI (`gs://...`) or a local file path.

Only synchronous requests are supported by the loader, which has a [limit of 60 seconds or 10MB](https://cloud.google.com/speech-to-text/v2/oss/sync-recognize#:~:text=60%20seconds%20and/or%2010%20MB) per audio file.

```
from langchain_google_community import SpeechToTextLoaderproject_id = "<PROJECT_ID>"file_path = "gs://cloud-samples-data/speech/audio.flac"# or a local file path: file_path = "./audio.wav"loader = SpeechToTextLoader(project_id=project_id, file_path=file_path)docs = loader.load()
```

**API Reference:**[SpeechToTextLoader](https://python.langchain.com/api_reference/google_community/google_speech_to_text/langchain_google_community.google_speech_to_text.SpeechToTextLoader.html)

Note: Calling `loader.load()` blocks until the transcription is finished.

The transcribed text is available in the `page_content`:

```
docs[0].page_content
```

```
"How old is the Brooklyn Bridge?"
```

The `metadata` contains the full JSON response with more meta information:

```
docs[0].metadata
```

```
{  'language_code': 'en-US',  'result_end_offset': datetime.timedelta(seconds=1)}
```

## Recognition Config

You can specify the `config` argument to use different speech recognition models and enable specific features.

Refer to the [Speech-to-Text recognizers documentation](https://cloud.google.com/speech-to-text/v2/oss/recognizers) and the [`RecognizeRequest`](https://cloud.google.com/python/oss/reference/speech/latest/google.cloud.speech_v2.types.RecognizeRequest) API reference for information on how to set a custom configuation.

If you don't specify a `config`, the following options will be selected automatically:

* Model: [Chirp Universal Speech Model](https://cloud.google.com/speech-to-text/v2/oss/chirp-model)
* Language: `en-US`
* Audio Encoding: Automatically Detected
* Automatic Punctuation: Enabled

```
from google.cloud.speech_v2 import (    AutoDetectDecodingConfig,    RecognitionConfig,    RecognitionFeatures,)from langchain_google_community import SpeechToTextLoaderproject_id = "<PROJECT_ID>"location = "global"recognizer_id = "<RECOGNIZER_ID>"file_path = "./audio.wav"config = RecognitionConfig(    auto_decoding_config=AutoDetectDecodingConfig(),    language_codes=["en-US"],    model="long",    features=RecognitionFeatures(        enable_automatic_punctuation=False,        profanity_filter=True,        enable_spoken_punctuation=True,        enable_spoken_emojis=True,    ),)loader = SpeechToTextLoader(    project_id=project_id,    location=location,    recognizer_id=recognizer_id,    file_path=file_path,    config=config,)
```

**API Reference:**[SpeechToTextLoader](https://python.langchain.com/api_reference/google_community/google_speech_to_text/langchain_google_community.google_speech_to_text.SpeechToTextLoader.html)

## Related

* Document loader [conceptual guide](/oss/concepts/document_loaders)
* Document loader [how-to guides](/oss/how_to/#document-loaders)
