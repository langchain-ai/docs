---
title: "LLMonitor"
---

> [LLMonitor](https://llmonitor.com?utm_source=langchain\&utm_medium=py\&utm_campaign=docs) is an open-source observability platform that provides cost and usage analytics, user tracking, tracing and evaluation tools.

[](https://llmonitor.com/videos/demo-annotated.mp4)

## Setup

Create an account on [llmonitor.com](https://llmonitor.com?utm_source=langchain\&utm_medium=py\&utm_campaign=docs), then copy your new app's `tracking id`.

Once you have it, set it as an environment variable by running:

```
export LLMONITOR_APP_ID="..."
```

If you'd prefer not to set an environment variable, you can pass the key directly when initializing the callback handler:

```
from langchain_community.callbacks.llmonitor_callback import LLMonitorCallbackHandlerhandler = LLMonitorCallbackHandler(app_id="...")
```

**API Reference:**[LLMonitorCallbackHandler](https://python.langchain.com/api_reference/community/callbacks/langchain_community.callbacks.llmonitor_callback.LLMonitorCallbackHandler.html)

## Usage with LLM/Chat models

```
from langchain_openai import OpenAIfrom langchain_openai import ChatOpenAIhandler = LLMonitorCallbackHandler()llm = OpenAI(    callbacks=[handler],)chat = ChatOpenAI(callbacks=[handler])llm("Tell me a joke")
```

**API Reference:**[OpenAI](https://python.langchain.com/api_reference/openai/llms/langchain_openai.llms.base.OpenAI.html) | [ChatOpenAI](https://python.langchain.com/api_reference/openai/chat_models/langchain_openai.chat_models.base.ChatOpenAI.html)

## Usage with chains and agents

Make sure to pass the callback handler to the `run` method so that all related chains and llm calls are correctly tracked.

It is also recommended to pass `agent_name` in the metadata to be able to distinguish between agents in the dashboard.

Example:

```
from langchain_openai import ChatOpenAIfrom langchain_community.callbacks.llmonitor_callback import LLMonitorCallbackHandlerfrom langchain_core.messages import SystemMessage, HumanMessagefrom langchain.agents import OpenAIFunctionsAgent, AgentExecutor, toolllm = ChatOpenAI(temperature=0)handler = LLMonitorCallbackHandler()@tooldef get_word_length(word: str) -> int:    """Returns the length of a word."""    return len(word)tools = [get_word_length]prompt = OpenAIFunctionsAgent.create_prompt(    system_message=SystemMessage(        content="You are very powerful assistant, but bad at calculating lengths of words."    ))agent = OpenAIFunctionsAgent(llm=llm, tools=tools, prompt=prompt, verbose=True)agent_executor = AgentExecutor(    agent=agent, tools=tools, verbose=True, metadata={"agent_name": "WordCount"}  # <- recommended, assign a custom name)agent_executor.run("how many letters in the word educa?", callbacks=[handler])
```

**API Reference:**[ChatOpenAI](https://python.langchain.com/api_reference/openai/chat_models/langchain_openai.chat_models.base.ChatOpenAI.html) | [LLMonitorCallbackHandler](https://python.langchain.com/api_reference/community/callbacks/langchain_community.callbacks.llmonitor_callback.LLMonitorCallbackHandler.html) | [SystemMessage](https://python.langchain.com/api_reference/core/messages/langchain_core.messages.system.SystemMessage.html) | [HumanMessage](https://python.langchain.com/api_reference/core/messages/langchain_core.messages.human.HumanMessage.html) | [OpenAIFunctionsAgent](https://python.langchain.com/api_reference/langchain/agents/langchain.agents.openai_functions_agent.base.OpenAIFunctionsAgent.html) | [AgentExecutor](https://python.langchain.com/api_reference/langchain/agents/langchain.agents.agent.AgentExecutor.html) | [tool](https://python.langchain.com/api_reference/core/tools/langchain_core.tools.convert.tool.html)

Another example:

```
import osfrom langchain_community.agent_toolkits.load_tools import load_toolsfrom langchain_community.callbacks.llmonitor_callback import LLMonitorCallbackHandlerfrom langchain_openai import ChatOpenAIfrom langgraph.prebuilt import create_react_agentos.environ["LLMONITOR_APP_ID"] = ""os.environ["OPENAI_API_KEY"] = ""os.environ["SERPAPI_API_KEY"] = ""handler = LLMonitorCallbackHandler()llm = ChatOpenAI(temperature=0, callbacks=[handler])tools = load_tools(["serpapi", "llm-math"], llm=llm)agent = create_react_agent("openai:gpt-4.1-mini", tools)input_message = {    "role": "user",    "content": "What's the weather in SF?",}agent.invoke({"messages": [input_message]})
```

**API Reference:**[load\_tools](https://python.langchain.com/api_reference/community/agent_toolkits/langchain_community.agent_toolkits.load_tools.load_tools.html) | [LLMonitorCallbackHandler](https://python.langchain.com/api_reference/community/callbacks/langchain_community.callbacks.llmonitor_callback.LLMonitorCallbackHandler.html) | [ChatOpenAI](https://python.langchain.com/api_reference/openai/chat_models/langchain_openai.chat_models.base.ChatOpenAI.html) | [create\_react\_agent](https://langchain-ai.github.io/langgraph/reference/prebuilt/#langgraph.prebuilt.chat_agent_executor.create_react_agent)

## User Tracking

User tracking allows you to identify your users, track their cost, conversations and more.

```
from langchain_community.callbacks.llmonitor_callback import LLMonitorCallbackHandler, identifywith identify("user-123"):    llm.invoke("Tell me a joke")with identify("user-456", user_props={"email": "user456@test.com"}):    agent.invoke(...)
```

**API Reference:**[LLMonitorCallbackHandler](https://python.langchain.com/api_reference/community/callbacks/langchain_community.callbacks.llmonitor_callback.LLMonitorCallbackHandler.html) | [identify](https://python.langchain.com/api_reference/community/callbacks/langchain_community.callbacks.llmonitor_callback.identify.html)

## Support

For any question or issue with integration you can reach out to the LLMonitor team on [Discord](http://discord.com/invite/8PafSG58kK) or via [email](mailto:vince@llmonitor.com).
